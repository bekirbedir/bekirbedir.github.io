function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+bO4":function(e,t,n){"use strict";n.r(t),t.default=""},"8aBz":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("8Y7J"),s=n("SVse"),a=n("Ckfk"),o=n("hhfa"),r=n("GS7A"),c=function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},l=function(){function e(t){_classCallCheck(this,e),this.zone=t,this.onClose=new i.x}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.initTimeout()}},{key:"initTimeout",value:function(){var e=this;this.message.sticky||this.zone.runOutsideAngular((function(){e.timeout=setTimeout((function(){e.onClose.emit({index:e.index,message:e.message})}),e.message.life||3e3)}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}))},{key:"onMouseEnter",value:function(){this.clearTimeout()}},{key:"onMouseLeave",value:function(){this.initTimeout()}},{key:"onCloseIconClick",value:function(e){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()}},{key:"ngOnDestroy",value:function(){this.clearTimeout()}}]),e}();l.ctorParameters=function(){return[{type:i.Q}]},c([Object(i.G)()],l.prototype,"message",void 0),c([Object(i.G)()],l.prototype,"index",void 0),c([Object(i.G)()],l.prototype,"template",void 0),c([Object(i.G)()],l.prototype,"showTransformOptions",void 0),c([Object(i.G)()],l.prototype,"hideTransformOptions",void 0),c([Object(i.G)()],l.prototype,"showTransitionOptions",void 0),c([Object(i.G)()],l.prototype,"hideTransitionOptions",void 0),c([Object(i.S)()],l.prototype,"onClose",void 0),c([Object(i.lb)("container")],l.prototype,"containerViewChild",void 0),l=c([Object(i.n)({selector:"p-toastItem",template:'\n        <div #container [attr.id]="message.id" class="ui-toast-message ui-shadow" [@messageState]="{value: \'visible\', params: {showTransformParams: showTransformOptions, hideTransformParams: hideTransformOptions, showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}"\n            [ngClass]="{\'ui-toast-message-info\': message.severity == \'info\',\'ui-toast-message-warn\': message.severity == \'warn\',\n                \'ui-toast-message-error\': message.severity == \'error\',\'ui-toast-message-success\': message.severity == \'success\'}"\n                (mouseenter)="onMouseEnter()" (mouseleave)="onMouseLeave()" role="alert" aria-live="assertive" aria-atomic="true">\n            <div class="ui-toast-message-content">\n                <a tabindex="0" class="ui-toast-close-icon pi pi-times" (click)="onCloseIconClick($event)" (keydown.enter)="onCloseIconClick($event)" *ngIf="message.closable !== false"></a>\n                <ng-container *ngIf="!template">\n                    <span class="ui-toast-icon pi"\n                        [ngClass]="{\'pi-info-circle\': message.severity == \'info\', \'pi-exclamation-triangle\': message.severity == \'warn\',\n                            \'pi-times-circle\': message.severity == \'error\', \'pi-check\' :message.severity == \'success\'}"></span>\n                    <div class="ui-toast-message-text-content">\n                        <div class="ui-toast-summary">{{message.summary}}</div>\n                        <div class="ui-toast-detail">{{message.detail}}</div>\n                    </div>\n                </ng-container>\n                <ng-container *ngTemplateOutlet="template; context: {$implicit: message}"></ng-container>\n            </div>\n        </div>\n    ',animations:[Object(r.o)("messageState",[Object(r.l)("visible",Object(r.m)({transform:"translateY(0)",opacity:1})),Object(r.n)("void => *",[Object(r.m)({transform:"{{showTransformParams}}",opacity:0}),Object(r.e)("{{showTransitionParams}}")]),Object(r.n)("* => void",[Object(r.e)("{{hideTransitionParams}}",Object(r.m)({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]})],l);var p=function(){function e(t,n){_classCallCheck(this,e),this.messageService=t,this.cd=n,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new i.x}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.messageSubscription=this.messageService.messageObserver.subscribe((function(t){if(t){if(t instanceof Array){var n=t.filter((function(t){return e.canAdd(t)}));e.add(n)}else e.canAdd(t)&&e.add([t]);e.modal&&e.messages&&e.messages.length&&e.enableModality()}})),this.clearSubscription=this.messageService.clearObserver.subscribe((function(t){t?e.key===t&&(e.messages=null):e.messages=null,e.modal&&e.disableModality()}))}},{key:"add",value:function(e){this.messages=this.messages?[].concat(_toConsumableArray(this.messages),_toConsumableArray(e)):_toConsumableArray(e),this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[].concat(_toConsumableArray(this.messagesArchieve),_toConsumableArray(e)):_toConsumableArray(e))}},{key:"canAdd",value:function(e){var t=this.key===e.key;return t&&this.preventOpenDuplicates&&(t=!this.containsMessage(this.messages,e)),t&&this.preventDuplicates&&(t=!this.containsMessage(this.messagesArchieve,e)),t}},{key:"containsMessage",value:function(e,t){return!!e&&null!=e.find((function(e){return e.summary===t.summary&&e.detail==t.detail&&e.severity===t.severity}))}},{key:"ngAfterContentInit",value:function(){var e=this;this.templates.forEach((function(t){switch(t.getType()){case"message":default:e.template=t.template}}))}},{key:"onMessageClose",value:function(e){this.messages.splice(e.index,1),0===this.messages.length&&this.disableModality(),this.onClose.emit({message:e.message}),this.cd.detectChanges()}},{key:"enableModality",value:function(){if(!this.mask){this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.containerViewChild.nativeElement.style.zIndex)-1),this.mask.style.display="block";a.a.addMultipleClasses(this.mask,"ui-widget-overlay ui-dialog-mask"),document.body.appendChild(this.mask)}}},{key:"disableModality",value:function(){this.mask&&(document.body.removeChild(this.mask),this.mask=null)}},{key:"onAnimationStart",value:function(e){"void"===e.fromState&&this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++a.a.zindex))}},{key:"ngOnDestroy",value:function(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.disableModality()}}]),e}();p.ctorParameters=function(){return[{type:o.c},{type:i.k}]},c([Object(i.G)()],p.prototype,"key",void 0),c([Object(i.G)()],p.prototype,"autoZIndex",void 0),c([Object(i.G)()],p.prototype,"baseZIndex",void 0),c([Object(i.G)()],p.prototype,"style",void 0),c([Object(i.G)()],p.prototype,"styleClass",void 0),c([Object(i.G)()],p.prototype,"position",void 0),c([Object(i.G)()],p.prototype,"modal",void 0),c([Object(i.G)()],p.prototype,"preventOpenDuplicates",void 0),c([Object(i.G)()],p.prototype,"preventDuplicates",void 0),c([Object(i.G)()],p.prototype,"showTransformOptions",void 0),c([Object(i.G)()],p.prototype,"hideTransformOptions",void 0),c([Object(i.G)()],p.prototype,"showTransitionOptions",void 0),c([Object(i.G)()],p.prototype,"hideTransitionOptions",void 0),c([Object(i.S)()],p.prototype,"onClose",void 0),c([Object(i.lb)("container")],p.prototype,"containerViewChild",void 0),c([Object(i.s)(o.d)],p.prototype,"templates",void 0),p=c([Object(i.n)({selector:"p-toast",template:"\n        <div #container [ngClass]=\"{'ui-toast ui-widget': true, \n                'ui-toast-top-right': position === 'top-right',\n                'ui-toast-top-left': position === 'top-left',\n                'ui-toast-bottom-right': position === 'bottom-right',\n                'ui-toast-bottom-left': position === 'bottom-left',\n                'ui-toast-top-center': position === 'top-center',\n                'ui-toast-bottom-center': position === 'bottom-center',\n                'ui-toast-center': position === 'center'}\" \n                [ngStyle]=\"style\" [class]=\"styleClass\">\n            <p-toastItem *ngFor=\"let msg of messages; let i=index\" [message]=\"msg\" [index]=\"i\" (onClose)=\"onMessageClose($event)\"\n                    [template]=\"template\" @toastAnimation (@toastAnimation.start)=\"onAnimationStart($event)\" \n                    [showTransformOptions]=\"showTransformOptions\" [hideTransformOptions]=\"hideTransformOptions\" \n                    [showTransitionOptions]=\"showTransitionOptions\" [hideTransitionOptions]=\"hideTransitionOptions\"></p-toastItem>\n        </div>\n    ",animations:[Object(r.o)("toastAnimation",[Object(r.n)(":enter, :leave",[Object(r.j)("@*",Object(r.f)())])])],changeDetection:i.j.Default})],p);var u=function e(){_classCallCheck(this,e)};u=c([Object(i.L)({imports:[s.b],exports:[p,o.e],declarations:[p,l]})],u)},"9GL7":function(e,t,n){"use strict";n.r(t),n.d(t,"ActivityManagementModule",(function(){return f}));var i=n("mrSG"),s=n("8Y7J"),a=n("SVse"),o=n("AytR"),r=n("IheW"),c=n("lJxs"),l=function(){function e(t){_classCallCheck(this,e),this._httpClient=t,this.valuesUrl=o.a.apiBaseUrl+"activity-management/"}return _createClass(e,[{key:"getUsers",value:function(e,t){var n={activityId:e,status:t},i=(new r.d).set("Content-Type","application/json"),s=JSON.stringify(n);return this._httpClient.post(this.valuesUrl+"getUsers",s,{headers:i}).pipe(Object(c.a)((function(e){return e})))}},{key:"userStateAction",value:function(e,t,n){var i={activityId:e,userId:t,status:n},s=(new r.d).set("Content-Type","application/json"),a=JSON.stringify(i);return this._httpClient.post(this.valuesUrl+"userStateAction",a,{headers:s}).pipe(Object(c.a)((function(e){return e})))}}]),e}();l.ctorParameters=function(){return[{type:r.b}]},l=Object(i.a)([Object(s.D)({providedIn:"root"})],l);var p=n("hhfa"),u=n("cUpR"),d=n("yPVt"),h=function(){function e(t,n,i,s){_classCallCheck(this,e),this.service=t,this.messageService=n,this._sanitizer=i,this.imageCompress=s}return _createClass(e,[{key:"ngOnInit",value:function(){this.getAllStates()}},{key:"getWaitingUsers",value:function(){var e=this;this.service.getUsers(this.selectedActivityId,1).subscribe((function(t){e.waitingUsers=t}))}},{key:"getApprovedUsers",value:function(){var e=this;this.service.getUsers(this.selectedActivityId,2).subscribe((function(t){e.approveUsers=t;for(var n=0;n<e.approveUsers.length;n++)e.approveUsers[n].imagePath=e._sanitizer.bypassSecurityTrustResourceUrl("data:image/jpg;base64,"+e.approveUsers[n].user.userPhoto)}))}},{key:"getRejectedUsers",value:function(){var e=this;this.service.getUsers(this.selectedActivityId,3).subscribe((function(t){e.rejectedUsers=t}))}},{key:"getAllStates",value:function(){this.selectedActivityId=localStorage.getItem("selectedActivityId").replace('"',"").replace('"',""),this.getWaitingUsers()}},{key:"userStateAction",value:function(e,t,n){var i=this;this.service.userStateAction(e,t,n).subscribe((function(e){e.status&&(i.messageService.add({key:"tc",severity:"info",summary:"Ba\u015far\u0131l\u0131",detail:"Kullan\u0131c\u0131 Onayland\u0131.."}),i.getWaitingUsers())}))}},{key:"handleChange",value:function(e){var t=e.index;0==t&&this.getWaitingUsers(),1==t&&this.getApprovedUsers(),1==t&&this.getRejectedUsers()}}]),e}();h.ctorParameters=function(){return[{type:l},{type:p.c},{type:u.b},{type:d.a}]},h=Object(i.a)([Object(s.n)({selector:"app-activity-management",template:Object(i.b)(n("JY1Q")).default,providers:[p.c],styles:[Object(i.b)(n("+bO4")).default]})],h);var m=n("hCWQ"),g=n("iInd"),b=n("T7Ec"),v=n("8aBz"),y=[{path:"",component:h}],f=function e(){_classCallCheck(this,e)};f=Object(i.a)([Object(s.L)({declarations:[h],imports:[v.a,a.b,m.a,b.a,g.c.forChild(y)],providers:[d.a]})],f)},JY1Q:function(e,t,n){"use strict";n.r(t),t.default='<p-tabView (onChange)="handleChange($event)">\n    <p-tabPanel header="Onay Bekleyenler" [selected]="true" rightIcon="pi pi-pause">\n        <table class="table table-striped">\n            <thead>\n            \n            </thead>\n            <tbody>\n              <tr *ngFor="let actUser of waitingUsers">\n                <th>{{actUser.username}} ( {{actUser.user.email}} )</th>\n                <td>\n                    <div class="btn-group" role="group" aria-label="...">\n                        <button (click)="userStateAction(actUser.activityId , actUser.user._id,2)" type="button" class="btn btn-success">Onayla <i class="pi pi-play"></i></button>\n                        <button (click)="userStateAction(actUser.activityId , actUser.user._id,3)" type="button" class="btn btn-danger">Reddet <i class="pi pi-times"></i> </button>\n                      </div>\n                </td>\n              </tr>\n\n            </tbody>\n          </table>\n        \n    </p-tabPanel>\n    <p-tabPanel header="Onaylananlar" rightIcon="pi pi-play" >\n\n        <table class="table table-striped">\n            <thead>\n             \n            </thead>\n            <tbody>\n              <tr *ngFor="let actUser of approveUsers">\n                <th> <img class="header-photo" [src]="actUser.imagePath" alt="Image Source" width="100px" height="150px" ></th>\n                <th>{{actUser.username}} ( {{actUser.user.email}} )</th>\n               \n              </tr>\n\n            </tbody>\n          </table>\n        \n\n    </p-tabPanel>\n    <p-tabPanel header="Reddedilenler" rightIcon="pi pi-times">\n      <table class="table table-striped">\n        <thead>\n        \n        </thead>\n        <tbody>\n          <tr *ngFor="let actUser of rejectedUsers">\n            <th>{{actUser.username}} ( {{actUser.user.email}} )</th>\n           \n          </tr>\n\n        </tbody>\n      </table>\n    </p-tabPanel>\n</p-tabView>\n\n<p-toast position="top-center" key="tc"></p-toast>'},hCWQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("8Y7J"),s=n("SVse"),a=n("hhfa"),o=n("GS7A"),r=function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},c=0,l=function(){function e(t){_classCallCheck(this,e),this.el=t,this.collapsed=!1,this.expandIcon="pi pi-plus",this.collapseIcon="pi pi-minus",this.showHeader=!0,this.toggler="icon",this.collapsedChange=new i.x,this.onBeforeToggle=new i.x,this.onAfterToggle=new i.x,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="ui-panel-".concat(c++)}return _createClass(e,[{key:"onHeaderClick",value:function(e){"header"===this.toggler&&this.toggle(e)}},{key:"onIconClick",value:function(e){"icon"===this.toggler&&this.toggle(e)}},{key:"toggle",value:function(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand(e):this.collapse(e)),e.preventDefault()}},{key:"expand",value:function(e){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}},{key:"collapse",value:function(e){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}},{key:"getBlockableElement",value:function(){return this.el.nativeElement.children[0]}},{key:"onToggleDone",value:function(e){this.animating=!1,this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed})}}]),e}();l.ctorParameters=function(){return[{type:i.v}]},r([Object(i.G)()],l.prototype,"toggleable",void 0),r([Object(i.G)()],l.prototype,"header",void 0),r([Object(i.G)()],l.prototype,"collapsed",void 0),r([Object(i.G)()],l.prototype,"style",void 0),r([Object(i.G)()],l.prototype,"styleClass",void 0),r([Object(i.G)()],l.prototype,"expandIcon",void 0),r([Object(i.G)()],l.prototype,"collapseIcon",void 0),r([Object(i.G)()],l.prototype,"showHeader",void 0),r([Object(i.G)()],l.prototype,"toggler",void 0),r([Object(i.S)()],l.prototype,"collapsedChange",void 0),r([Object(i.S)()],l.prototype,"onBeforeToggle",void 0),r([Object(i.S)()],l.prototype,"onAfterToggle",void 0),r([Object(i.G)()],l.prototype,"transitionOptions",void 0),r([Object(i.r)(a.a)],l.prototype,"footerFacet",void 0),l=r([Object(i.n)({selector:"p-panel",template:'\n        <div [attr.id]="id" [ngClass]="\'ui-panel ui-widget ui-widget-content ui-corner-all\'" [ngStyle]="style" [class]="styleClass">\n            <div [ngClass]="{\'ui-panel-titlebar ui-widget-header ui-helper-clearfix ui-corner-all\': true, \'ui-panel-titlebar-clickable\': (toggleable && toggler === \'header\')}" \n                *ngIf="showHeader" (click)="onHeaderClick($event)" [attr.id]="id + \'-titlebar\'">\n                <span class="ui-panel-title" *ngIf="header" [attr.id]="id + \'_header\'">{{header}}</span>\n                <ng-content select="p-header"></ng-content>\n                <a *ngIf="toggleable" [attr.id]="id + \'-label\'" class="ui-panel-titlebar-icon ui-panel-titlebar-toggler ui-corner-all ui-state-default" tabindex="0"\n                    (click)="onIconClick($event)" (keydown.enter)="onIconClick($event)" [attr.aria-controls]="id + \'-content\'" role="tab" [attr.aria-expanded]="!collapsed">\n                    <span [class]="collapsed ? expandIcon : collapseIcon"></span>\n                </a>\n            </div>\n            <div [attr.id]="id + \'-content\'" class="ui-panel-content-wrapper" [@panelContent]="collapsed ? {value: \'hidden\', params: {transitionParams: animating ? transitionOptions : \'0ms\', height: \'0\', opacity:\'0\'}} : {value: \'visible\', params: {transitionParams: animating ? transitionOptions : \'0ms\', height: \'*\', opacity: \'1\'}}" (@panelContent.done)="onToggleDone($event)"\n                [ngClass]="{\'ui-panel-content-wrapper-overflown\': collapsed||animating}"\n                role="region" [attr.aria-hidden]="collapsed" [attr.aria-labelledby]="id  + \'-titlebar\'">\n                <div class="ui-panel-content ui-widget-content">\n                    <ng-content></ng-content>\n                </div>\n                \n                <div class="ui-panel-footer ui-widget-content" *ngIf="footerFacet">\n                    <ng-content select="p-footer"></ng-content>\n                </div>\n            </div>\n        </div>\n    ',animations:[Object(o.o)("panelContent",[Object(o.l)("hidden",Object(o.m)({height:"0",opacity:0})),Object(o.l)("void",Object(o.m)({height:"{{height}}",opacity:"{{opacity}}"}),{params:{height:"0",opacity:"0"}}),Object(o.l)("visible",Object(o.m)({height:"*",opacity:1})),Object(o.n)("visible <=> hidden",Object(o.e)("{{transitionParams}}")),Object(o.n)("void => hidden",Object(o.e)("{{transitionParams}}")),Object(o.n)("void => visible",Object(o.e)("{{transitionParams}}"))])],changeDetection:i.j.Default})],l);var p=function e(){_classCallCheck(this,e)};p=r([Object(i.L)({imports:[s.b],exports:[l,a.e],declarations:[l]})],p)}}]);