(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{EC89:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var s=n("8Y7J"),i=n("SVse"),a=n("hhfa"),r=function(e,t,n,s){var i,a=arguments.length,r=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};let o=class{constructor(e){this.el=e}getBlockableElement(){return this.el.nativeElement.children[0]}};o.ctorParameters=()=>[{type:s.v}],r([Object(s.G)()],o.prototype,"header",void 0),r([Object(s.G)()],o.prototype,"subheader",void 0),r([Object(s.G)()],o.prototype,"style",void 0),r([Object(s.G)()],o.prototype,"styleClass",void 0),r([Object(s.r)(a.b)],o.prototype,"headerFacet",void 0),r([Object(s.r)(a.a)],o.prototype,"footerFacet",void 0),o=r([Object(s.n)({selector:"p-card",template:'\n        <div [ngClass]="\'ui-card ui-widget ui-widget-content ui-corner-all\'" [ngStyle]="style" [class]="styleClass">\n            <div class="ui-card-header" *ngIf="headerFacet">\n               <ng-content select="p-header"></ng-content>\n            </div>\n            <div class="ui-card-body">\n                <div class="ui-card-title" *ngIf="header">{{header}}</div>\n                <div class="ui-card-subtitle" *ngIf="subheader">{{subheader}}</div>\n                <div class="ui-card-content">\n                    <ng-content></ng-content>\n                </div>\n                <div class="ui-card-footer" *ngIf="footerFacet">\n                    <ng-content select="p-footer"></ng-content>\n                </div>\n            </div>\n        </div>\n    ',changeDetection:s.j.Default})],o);let l=class{};l=r([Object(s.L)({imports:[i.b],exports:[o,a.e],declarations:[o]})],l)},UovN:function(e,t,n){"use strict";n.r(t),t.default='<div class="route-nav">\n    <span><a href="/activities"> <i class="fa fa-home" aria-hidden="true"></i> Anasayfa </a></span> >\n    <span><i class="fa fa-user" aria-hidden="true"></i> Profil </span>\n  </div>   \n  <label for="propic">Profil Fotosu De\u011fi\u015ftir</label>\n  \n  <input id="propic" (change)="picked($event,1)" type="file" style="visibility: hidden;">\n  <div class="p-grid p-nogutter p-justify-center p-align-center" style="height:100%">\n    <div class="p-xl-5 p-lg-5 p-md-5 p-sm-5">\n    <p-card>\n        <div class="p-grid">\n            <div class="p-col-3">\n                <img class="header-photo" [src]="imagePath" alt="Image Source" >\n            </div>\n\n            <div class="p-col-8">\n                <p class="name">{{User.name}}</p>\n                <p class="username"><a href="#">@{{User.username}}</a></p>\n                <p class="email">{{User.email}}</p>\n            </div>\n                  \n           <div class="p-col-12">\n               <p class="bio-header">Biyografi </p>\n               <p class="bio-context">Senaryo yazar\u0131, k\u0131sa film y\xf6netmeni, tiyatro m\xfcdavimi ve ele\u015ftirmeni, k\u0131saca sanat adam\u0131 olmaya \xe7al\u0131\u015fan, do\u011faya hayran, \u015fansl\u0131 bir zat.</p>\n           </div> \n        </div>\n        <hr>\n        <div class="h-10"></div>\n        <div class="p-grid rate-buttons">\n        <div class="p-col-9 positive-button"><i class="pi pi-thumbs-up"></i> (80)</div>  \n        <div class="p-col-3 negative-button"><i class="pi pi-thumbs-down"></i> (20</div>    \n        </div>\n        \x3c!-------Bu alan ngFor ile yapilacak--------------\x3e\n        <div class="profile-tags"> \n            <span class="profile-tag">#Do\u011fa</span>\n            <span class="profile-tag">#Kamp</span>\n            <span class="profile-tag">#Tiyatro</span>\n            <span class="profile-tag">#Film</span>\n        </div>\n\n    </p-card>\n</div>\n</div>\n'},cRhG:function(e,t,n){"use strict";n.r(t),n.d(t,"ProfileModule",(function(){return j}));var s=n("mrSG"),i=n("8Y7J"),a=n("SVse"),r=n("cUpR"),o=n("yPVt"),l=n("AytR"),c=n("IheW"),d=n("HDdC"),p=n("lJxs"),g=n("vkgz");let h=class{constructor(e){this._httpClient=e,this.valuesUrl=l.a.apiBaseUrl+"users/"}getMyProfil(e){console.log("servise geldi - userApprove");const t={Id:e};let n=(new c.d).set("Content-Type","application/json");const s=JSON.stringify(t);return this._httpClient.post(this.valuesUrl+"detail",s,{headers:n}).pipe(Object(p.a)(e=>e))}updateUserPhoto(e,t){console.log("servise geldi - updateUser");const n={userId:e,base64:t};let s=(new c.d).set("Content-Type","application/json");const i=JSON.stringify(n);return this._httpClient.post(this.valuesUrl+"updateUserPhoto",i,{headers:s}).pipe(Object(p.a)(e=>e),Object(g.a)(e=>console.log("photolar",e)))}userApprove(e){const t=e;let n=(new c.d).set("Content-Type","application/json");const s=JSON.stringify(t);return this._httpClient.post(this.valuesUrl+"userApprove",s,{headers:n}).pipe(Object(p.a)(e=>e))}userReject(e){const t=e;let n=(new c.d).set("Content-Type","application/json");const s=JSON.stringify(t);return this._httpClient.post(this.valuesUrl+"userReject",s,{headers:n}).pipe(Object(p.a)(e=>e))}compress(e){const t=e.type||"image/jpeg",n=new FileReader;return n.readAsDataURL(e),d.a.create(s=>{n.onload=n=>{const i=this.createImage(n),a=i.width>i.height?i.width:i.height;let r=a>512?512/a:1,o=e.size>262144?262144/e.size:.7;i.onload=()=>{const n=document.createElement("canvas");n.width=i.width*r,n.height=i.height*r;const a=n.getContext("2d");a.drawImage(i,0,0,n.width,n.height),a.canvas.toBlob(n=>{s.next(new File([n],e.name,{type:t,lastModified:Date.now()}))},t,o)}},n.onerror=e=>s.error(e)})}createImage(e){let t=e.target.result;const n=new Image;return n.src=t,n}};h.ctorParameters=()=>[{type:c.b}],h=Object(s.a)([Object(i.D)({providedIn:"root"})],h);class u{}var b=n("IzEk");let v=class{constructor(e,t,n){this.service=e,this._sanitizer=t,this.imageCompress=n,this.finalJson={},this.currentId=0;const s=localStorage.getItem("userId").replace('"',"").replace('"',"");this.User=new u,this.service.getMyProfil(s).subscribe(e=>{this.sellersPermitString=e.userPhoto,this.User=e,this.imagePath=this._sanitizer.bypassSecurityTrustResourceUrl("data:image/jpg;base64,"+this.sellersPermitString)})}addPictures(){this.finalJson={sellersPermitFile:this.ExteriorPicString}}picked(e,t){this.currentId=t;let n=e.target.files;if(n.length>0){const e=n[0];1==t&&(this.sellersPermitFile=e,this.handleInputChange(e))}else alert("No file selected")}handleInputChange(e){this.service.compress(e).pipe(Object(b.a)(1)).subscribe(e=>{console.log(`Image size after compressed: ${e.size} bytes.`),this.files=e,console.log("com:",e);var t=e;console.log("files:",t);var n=new FileReader;console.log("type:  ",t),t.type.match(/image-*/)?(n.onloadend=this._handleReaderLoaded.bind(this),n.readAsDataURL(t)):alert("invalid format")})}_handleReaderLoaded(e){let t=e.target;var n=t.result.substr(t.result.indexOf(",")+1);this.sellersPermitString=n,this.log(),this.imagePath=this._sanitizer.bypassSecurityTrustResourceUrl("data:image/jpg;base64,"+this.sellersPermitString);const s=localStorage.getItem("userId").replace('"',"").replace('"',"");this.service.updateUserPhoto(s,this.sellersPermitString).subscribe(e=>{console.log(e)})}log(){console.log("base 64","this.sellersPermitString seklinde yazilcak")}};v.ctorParameters=()=>[{type:h},{type:r.b},{type:o.a}],v=Object(s.a)([Object(i.n)({selector:"app-profile",template:Object(s.b)(n("UovN")).default,styles:[Object(s.b)(n("kkwF")).default]})],v);var f=n("EC89"),m=n("iInd");const y=[{path:"",component:v}];let j=class{};j=Object(s.a)([Object(i.L)({declarations:[v],imports:[a.b,f.a,m.c.forChild(y)],providers:[o.a]})],j)},kkwF:function(e,t,n){"use strict";n.r(t),t.default=".profile-tags{\n    padding: 12px;\n    border: 1px solid #ccc;\n    background-color: whitesmoke;\n    align-items: center;\n    text-align: center;\n}\n.profile-tag{\n    margin-right: 5px;\n    margin-left: 5px;\n   padding: 7px;\n   border-radius: 3px;\n   color: white;\n   background: rgb(71,161,25);\n   background: linear-gradient(90deg, rgba(71,161,25,1) 0%, rgba(89,207,23,1) 100%);\n}\n.bio-header{\n    margin-top: 10px;\n    font-weight: 900;\n    width: 100%;\n    text-align: center;\n    color: #117b8c;\n    padding-bottom:5px ;\n    border-bottom: 1px solid #ccc;\n}\n.bio-context{\n    margin-top: 5px;\n    text-align: center;\n}\n.header-photo{\n    -o-object-fit: cover;\n       object-fit: cover;\n    width: 150px;\n    height:150px;\n    border-radius: 40%;\n    border: 2px solid #ccc;\n}\n.rate-buttons{\n    padding: 12px;\n}\n.positive-button{\n   \n    border-radius: 5px;\n    font-size: 1em;\n    color: white;\n    text-align: center;\n    background: rgb(85,190,31);\nbackground: linear-gradient(90deg, rgba(85,190,31,1) 0%, rgba(89,207,23,1) 72%);\n}\n.negative-button{\n  \n    border-radius: 5px;\n    font-size: 1em;\n    color: white;\n    text-align: center;\n    background: rgb(246,10,10);\nbackground: linear-gradient(90deg, rgba(246,10,10,1) 0%, rgba(228,50,50,1) 47%);\n}"}}]);